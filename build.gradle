subprojects {
  apply plugin: 'java'
  apply plugin: 'application'
  apply plugin: 'idea'

  idea {
    module {
      downloadJavadoc = true
      downloadSources = true
    }
  }

  dependencies {
    testCompile group: 'org.testng', name: 'testng', version: '6.14.3'
  }

  repositories {
    maven {
      url 'http://maven.aliyun.com/nexus/content/groups/public/'
    }
    maven {
      url 'http://maven.aliyun.com/nexus/content/repositories/jcenter'
    }
  }

  run {
    mainClass = findProperty('targetClass') ? getProperty('targetClass') : 'NO_CLASS'
  }

  test {
    useTestNG()
  }
}
